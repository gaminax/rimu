{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/rimuc/rimuc.ts","webpack:///external \"fs\"","webpack:///external \"path\"","webpack:///external \"../lib/rimu\"","webpack:///./src/rimuc/resources.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","STDIN","HOME_DIR","process","env","platform","RIMURC","path","resolve","die","message","console","error","exit","readResourceFile","resources","result","split","join","html_replacement","safe_mode","layout","no_rimurc","prepend_files","pass","argv","shift","outfile","arg","prepend","outer","log","prepend_file","push","parseInt","indexOf","unshift","files","length","substr","lastIndexOf","fs","existsSync","output","errors","options","undefined","htmlReplacement","infile","source","startsWith","safeMode","readFileSync","e","code","toString","pop","callback","msg","type","text","slice","rimu","render","trim","writeFileSync","stdout","write","require","String","raw"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAmlB/B,gBAAiBD,OAAOC,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA6F3B,gBAAiBD,OAAOC,GAAG","file":"rimuc.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/*\n  Command-lne app to convert Rimu source to HTML.\n  Run 'node rimu.js --help' for details.\n*/\n\nimport * as fs from \"fs\";\nimport * as path from \"path\";\nimport * as rimu from \"rimu\";\nimport { resources } from \"./resources\";\n\nconst VERSION = \"11.1.9\";\nconst STDIN = \"/dev/stdin\";\nconst HOME_DIR =\n  process.env[(process.platform === \"win32\") ? \"USERPROFILE\" : \"HOME\"];\nconst RIMURC = path.resolve(HOME_DIR || \"\", \".rimurc\");\n\n// Helpers.\nfunction die(message: string): void {\n  console.error(message);\n  process.exit(1);\n}\n\nfunction readResourceFile(name: string): string {\n  if (!(name in resources)) {\n    die(`missing resource: ${name}`);\n  }\n  // Restore all backticks.\n  let result = resources[name].split(\"\\\\x60\").join(\"`\");\n  // Restore all backslashes.\n  result = resources[name].split(\"\\\\x5C\").join(\"\\\\\");\n  return result;\n}\n\nlet safe_mode = 0;\nlet html_replacement: string | undefined;\nlet layout = \"\";\nlet no_rimurc = false;\nlet prepend_files: string[] = [];\nlet pass = false;\n\n// Skip executable and script paths.\nprocess.argv.shift(); // Skip executable path.\nprocess.argv.shift(); // Skip rimuc script path.\n\n// Parse command-line options.\nlet prepend = \"\";\nlet outfile: string | undefined;\nlet arg: string | undefined;\nouter:\nwhile (!!(arg = process.argv.shift())) {\n  switch (arg) {\n    case \"--help\":\n    case \"-h\":\n      console.log(\"\\n\" + readResourceFile(\"manpage.txt\"));\n      process.exit();\n      break;\n    case \"--version\":\n      console.log(VERSION);\n      process.exit();\n      break;\n    case \"--lint\": // Deprecated in Rimu 10.0.0\n    case \"-l\":\n      break;\n    case \"--output\":\n    case \"-o\":\n      outfile = process.argv.shift();\n      if (!outfile) {\n        die(\"missing --output file name\");\n      }\n      break;\n    case \"--pass\":\n      pass = true;\n      break;\n    case \"--prepend\":\n    case \"-p\":\n      prepend += process.argv.shift() + \"\\n\";\n      break;\n    case \"--prepend-file\":\n      let prepend_file = process.argv.shift();\n      if (!prepend_file) {\n        die(\"missing --prepend-file file name\");\n      }\n      prepend_files.push(prepend_file!);\n      break;\n    case \"--no-rimurc\":\n      no_rimurc = true;\n      break;\n    case \"--safe-mode\":\n    case \"--safeMode\": // Deprecated in Rimu 7.1.0.\n      safe_mode = parseInt(process.argv.shift() || \"99\", 10);\n      if (safe_mode < 0 || safe_mode > 15) {\n        die(\"illegal --safe-mode option value\");\n      }\n      break;\n    case \"--html-replacement\":\n    case \"--htmlReplacement\": // Deprecated in Rimu 7.1.0.\n      html_replacement = process.argv.shift();\n      break;\n    // Styling macro definitions shortcut options.\n    case \"--highlightjs\":\n    case \"--mathjax\":\n    case \"--section-numbers\":\n    case \"--theme\":\n    case \"--title\":\n    case \"--lang\":\n    case \"--toc\": // Deprecated in Rimu 8.0.0\n    case \"--no-toc\":\n    case \"--sidebar-toc\": // Deprecated in Rimu 10.0.0\n    case \"--dropdown-toc\": // Deprecated in Rimu 10.0.0\n    case \"--custom-toc\":\n    case \"--header-ids\":\n    case \"--header-links\":\n      let macro_value = [\"--lang\", \"--title\", \"--theme\"].indexOf(arg) > -1\n        ? process.argv.shift()\n        : \"true\";\n      prepend += \"{\" + arg + \"}='\" + macro_value + \"'\\n\";\n      break;\n    case \"--layout\":\n    case \"--styled-name\": // Deprecated in Rimu 10.0.0\n      layout = process.argv.shift() || \"\";\n      if (!layout) {\n        die(\"missing --layout\");\n      }\n      prepend += \"{--header-ids}='true'\\n\";\n      break;\n    case \"--styled\":\n    case \"-s\":\n      prepend += \"{--header-ids}='true'\\n\";\n      prepend += \"{--no-toc}='true'\\n\";\n      layout = \"sequel\";\n      break;\n    default:\n      process.argv.unshift(arg); // argv contains source file names.\n      break outer;\n  }\n}\n// process.argv contains the list of source files.\nlet files = process.argv;\nif (files.length === 0) {\n  files.push(STDIN);\n} else if (\n  files.length === 1 && layout !== \"\" && files[0] !== \"-\" && !outfile\n) {\n  // Use the source file name with .html extension for the output file.\n  outfile = files[0].substr(0, files[0].lastIndexOf(\".\")) + \".html\";\n}\nconst RESOURCE_TAG = \"resource:\"; // Tag for resource files.\nconst PREPEND = \"--prepend options\";\nif (layout !== \"\") {\n  // Envelope source files with header and footer.\n  files.unshift(`${RESOURCE_TAG}${layout}-header.rmu`);\n  files.push(`${RESOURCE_TAG}${layout}-footer.rmu`);\n}\n// Prepend $HOME/.rimurc file if it exists.\nif (!no_rimurc && fs.existsSync(RIMURC)) {\n  prepend_files.unshift(RIMURC);\n}\nif (prepend !== \"\") {\n  prepend_files.push(PREPEND);\n}\nfiles = [...prepend_files, ...files];\n// Convert Rimu source files to HTML.\nlet output = \"\";\nlet errors = 0;\nlet options: rimu.Options = {};\nif (html_replacement !== undefined) {\n  options.htmlReplacement = html_replacement;\n}\nfor (let infile of files) {\n  if (infile === \"-\") {\n    infile = STDIN;\n  }\n  let source = \"\";\n  if (infile.startsWith(RESOURCE_TAG)) {\n    infile = infile.substr(RESOURCE_TAG.length);\n    source = readResourceFile(infile);\n    options.safeMode = 0; // Resources are trusted.\n  } else if (infile === PREPEND) {\n    source = prepend;\n    options.safeMode = 0; // --prepend options are trusted.\n  } else {\n    if (infile === STDIN) {\n      try {\n        source = fs.readFileSync(0, \"utf-8\");\n      } catch (e) {\n        if (e.code !== \"EOF\") { // EOF error thrown on Windows if stdin is empty.\n          die(`error reading stdin: ${e.message}`);\n        }\n      }\n    } else {\n      if (!fs.existsSync(infile)) {\n        die(\"source file does not exist: \" + infile);\n      }\n      try {\n        source = fs.readFileSync(infile).toString();\n      } catch (e) {\n        die(\"source file permission denied: \" + infile);\n      }\n    }\n    // Prepended and ~/.rimurc files are trusted.\n    options.safeMode = (prepend_files.indexOf(infile) > -1) ? 0 : safe_mode;\n  }\n  let ext = infile.split(\".\").pop();\n  // Skip .html and pass-through inputs.\n  if (!(ext === \"html\" || (pass && infile === STDIN))) {\n    options.callback = function (message): void {\n      let msg = message.type + \": \" + infile + \": \" + message.text;\n      if (msg.length > 120) {\n        msg = msg.slice(0, 117) + \"...\";\n      }\n      console.error(msg);\n      if (message.type === \"error\") {\n        errors += 1;\n      }\n    };\n    source = rimu.render(source, options);\n  }\n  source = source.trim();\n  if (source !== \"\") {\n    output += source + \"\\n\";\n  }\n}\noutput = output.trim();\nif (!outfile || outfile === \"-\") {\n  process.stdout.write(output);\n} else {\n  fs.writeFileSync(outfile, output);\n}\nif (errors) {\n  process.exit(1);\n}\n","module.exports = require(\"fs\");","module.exports = require(\"path\");","module.exports = require(\"../lib/rimu\");","// Generated automatically from resource files. Do not edit.\nexport let resources: { [name: string]: string } = {\n  \"classic-footer.rmu\": String.raw`/*\n  Used by rimuc.js --styled option.\n*/\n\n// Close article div.\n</div>\n\n{--highlightjs=}.+skip\n{--highlightjs-scripts}\n\n{--mathjax!}{--mathjax-scripts}\n\n.+skip\n{--no-toc=}.-skip\n{--header-links!}.-skip\n<script>\nwindow.onload = function() {\n  var headings = [].slice.call(document.body.querySelectorAll('#article > h1, #article > h2, #article > h3'));\n  headings.forEach(function(heading) {\n{--header-links!}    setHeaderLink(heading);\n{--no-toc=}    appendTocEntry(heading);\n  });\n}\n</script>\n\n{--header-links=}.+skip\n<script>\nfunction setHeaderLink(heading) {\n  var id = heading.getAttribute('id');\n  if (id) {\n    var link = document.createElement('a');\n    link.classList.add('header-link');\n    link.setAttribute('href', '#' + id);\n    heading.appendChild(link);\n  }\n}\n</script>\n\n{--no-toc!}.+skip\n<script>\nfunction appendTocEntry(heading) {\n  var id = heading.getAttribute('id');\n  if (heading.classList.contains('no-auto-toc')) {\n    return;\n  }\n  var container = document.getElementById('auto-toc');\n  if (container === null) {\n    return;\n  }\n  var tocLink = document.createElement('a');\n  tocLink.setAttribute('href', '#' + id);\n  tocLink.textContent = heading.textContent;\n  var tocEntry = document.createElement('div');\n  tocEntry.setAttribute('class', heading.tagName.toLowerCase());\n  tocEntry.appendChild(tocLink);\n  container.appendChild(tocEntry);\n}\n</script>\n\n{--dropdown-toc=}.+skip\n<script>\n// matches() polyfill for old browsers.\nif (!Element.prototype.matches) {\n  var p = Element.prototype;\n  if (p.webkitMatchesSelector) // Chrome <34, SF<7.1, iOS<8\n    p.matches = p.webkitMatchesSelector;\n  if (p.msMatchesSelector) // IE9/10/11 & Edge\n    p.matches = p.msMatchesSelector;\n  if (p.mozMatchesSelector) // FF<34\n    p.matches = p.mozMatchesSelector;\n}\nwindow.onclick = function(event) {\n  var body = document.getElementsByTagName('body')[0];\n  if (event.target.matches('#toc-button, #toc a')) {\n    // Toggle TOC if TOC button or TOC link is clicked.\n    body.classList.toggle('show-toc');\n  }\n  else if (!event.target.matches('#toc, #toc *')) {\n    // Hide TOC if clicked outside TOC.\n    body.classList.remove('show-toc');\n  }\n}\n</script>\n\n</body>\n</html>\n`,\n  \"classic-header.rmu\": String.raw`/*\n  Used by rimuc \\x60--layout classic\\x60 option.\n*/\n\n/*\n  Default values for styling themes and content options.\n*/\n\n{--section-numbers?} = ''\n{--lang?} = ''\n{--title?} = '&nbsp;'\n{--theme?} = ''\n{--no-toc?} = ''\n{--custom-toc?} = ''\n{--header-links?} = ''\n{--small-screen?} = '(max-width: 800px)'\n{--meta?} = '<meta charset=\"UTF-8\">\n  {--!} Make old IE versions use the latest rendering engine.\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, minimum-scale=1\">'\n// Additional <head> child elements.\n{--head?} = ''\n\n{--highlightjs?} = ''\n{--highlightjs-css} = '<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css\">'\n{--highlightjs-scripts} = '<script src=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js\"></script>\n<script>\nhljs.configure({languages: []});\nhljs.initHighlightingOnLoad();\n</script>'\n\n{--mathjax?} = ''\n{--mathjax-scripts} = '<script async src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML\"></script>'\n\n// List item CSS counters.\n{--dl-counter} = '<span class=\"dl-counter\"></span>'\n{--ol-counter} = '<span class=\"ol-counter\"></span>'\n{--ul-counter} = '<span class=\"ul-counter\"></span>'\n\n// Classic layout specific.\n{--dropdown-toc?} = ''\n\n/*\n  Legend theme.\n*/\n{--theme!.*\\x5Cblegend\\x5Cb.*}.+skip\n..\n{--sans-font?} = 'Helvetica, Arial, sans-serif'\n{--serif-font?} = 'Georgia, Times, serif'\n{--mono-font?} = 'Consolas, \"Andale Mono\", Monaco, monospace'\n{--mono-size?} = '90%'\n{--text-color?} = '#333333'\n{--border-color?} = '#dddddd'\n{--primary-color?} = '#34495e'\n{--primary-background?} = 'white'\n{--code-background?} = '#f8f8f8'\n{--sidebar-background?} = '#ffffee'\n{--link-color?} = '#428bca'\n{--border-radius?} = '0'\n{--max-text-width?} = '50rem'\n..\n\n/*\n  Vintage theme.\n*/\n{--theme!.*\\x5Cbvintage\\x5Cb.*}.+skip\n// Default to this theme if none of the built-in themes is specified.\n{--theme!.*\\x5Cb(legend|vintage|graystone)\\x5Cb.*}.-skip\n..\n{--sans-font?} = 'Helvetica, Arial, sans-serif'\n{--serif-font?} = 'Georgia, Times, serif'\n{--mono-font?} = 'Consolas, \"Andale Mono\", Monaco, monospace'\n{--mono-size?} = '90%'\n{--text-color?} = '#333333'\n{--border-color?} = '#dddddd'\n{--primary-color?} = '#527bbd'\n{--primary-background?} = 'white'\n{--code-background?} = '#f8f8f8'\n{--sidebar-background?} = '#ffffee'\n{--link-color?} = '#527bbd'\n{--border-radius?} = '4px'\n{--max-text-width?} = '50rem'\n..\n\n/*\n  Graystone theme.\n*/\n{--theme!.*\\x5Cbgraystone\\x5Cb.*}.+skip\n..\n{--sans-font?} = 'Helvetica, Arial, sans-serif'\n{--serif-font?} = 'Georgia, Times, serif'\n{--mono-font?} = 'Consolas, \"Andale Mono\", Monaco, monospace'\n{--mono-size?} = '90%'\n{--text-color?} = '#333333'\n{--border-color?} = '#dddddd'\n{--primary-color?} = '#888'\n{--primary-background?} = 'white'\n{--code-background?} = '#f8f8f8'\n{--sidebar-background?} = '#ffffee'\n{--link-color?} = '#888'\n{--border-radius?} = '0'\n{--max-text-width?} = '50rem'\n..\n\n/*\n  Private layout parameters.\n*/\n// Accomodate the new default TOC generation and --no-toc option.\n// DEPRECATED --sidebar-toc: Used internally, external definition tolerated for backward comaptibility.\n{--dropdown-toc!}.+skip\n..\n{--sidebar-toc?} = 'yes'\n..\n\n{--dropdown-toc=}.+skip\n..\n{--sidebar-toc?} = ''\n..\n\n// DEPRECATED --toc: If --toc is non-blank make --sidebar-toc non-blank.\n{--toc?} = ''\n{--sidebar-toc} = '{--toc}{--sidebar-toc}'\n\n// Ensures no TOC.\n{--no-toc=}.+skip\n..\n{--dropdown-toc} = ''\n{--sidebar-toc} = ''\n..\n\n\n/*\n  HTML header\n*/\n<!DOCTYPE HTML>\n{--lang=}<html>\n{--lang!}<html lang=\"{--lang}\">\n<head>\n{--meta}\n<title>{--title}</title>\n{--highlightjs!}{--highlightjs-css}\n\n\n/*\n  Layout independent styles\n*/\n<style>\n  :root {\n    font-size: 16px;\n    line-height: 20px;\n    color: {--text-color};\n    background-color: {--primary-background};\n    font-family: {--sans-font};\n  }\n  * {\n    margin: 0;\n    padding: 0;\n    white-space: inherit;\n    box-sizing: border-box;\n  }\n  h1, h2, h3, h4, h5, h6 {\n    margin: 10px 0;\n    color: {--primary-color};\n  }\n  h1 { font-size: 2.2rem; line-height: 40px;}\n  h2 { font-size: 1.5rem; }\n  h3 { font-size: 1.2rem; }\n  h4 { font-size: 1.1rem; }\n  h5 { font-size: 1.0rem; }\n  h6 { font-size: 0.9rem; }\n  h2, h3, h4, h5, h6 {\n    line-height: normal;\n    margin-top: 1.0rem;\n    margin-bottom: 0.2rem;\n  }\n  h2 {\n    margin-top: 1.5rem;\n    border-bottom: 1px solid {--border-color};\n  }\n  img {\n    max-width: 100%;\n  }\n  table {\n    border-collapse: collapse;\n    width: 100%;\n  }\n  td, th {\n    text-align: left;\n    vertical-align: top;\n  }\n  {--!} tbody necessary because: http://stackoverflow.com/questions/7490364/why-do-browsers-still-inject-tbody-in-html5\n  table.bordered > tbody > tr > th,\n  table.bordered > tbody > tr > td {\n    border: 1px solid {--border-color};\n  }\n  a, a:hover {\n    color: {--primary-color};\n  }\n  a {\n    text-decoration: none;\n  }\n  a:hover {\n    text-decoration: underline;\n  }\n  p, pre, li, dt, dd, blockquote p {\n    line-height: 1.45;\n    margin-top: 0.5rem;\n    margin-bottom: 0.5rem;\n  }\n  ul, ol {\n    padding: 0;\n    margin: 0 0 10px 25px;\n  }\n  dt {\n    margin-bottom: 0;\n    font-style: italic;\n  }\n  dd {\n    margin-left: 1.0rem;\n    margin-top: 0;\n  }\n  blockquote {\n    padding: 0 0 0 15px;\n    border: none;\n    border-left: 5px solid #eeeeee;\n    font-family: {--serif-font};\n    width: 80%;\n    margin: 1.5em 0;\n    color: #383838;\n  }\n  .cite {\n    color: #777;\n    padding: 5px 0;\n  }\n  .cite::before {\n    content: \"\\x5C2014 \\x5C2009\";\n  }\n  code {\n    font-family: {--mono-font};\n    {--!} Monspace fonts are relatively oversized.\n    font-size: {--mono-size};\n    background-color: {--code-background};\n  }\n{--highlightjs!}  .hljs { background-color: {--code-background}; }\n  pre {\n    font-family: {--mono-font};\n    line-height: normal;\n    white-space: pre-wrap;\n    background-color: {--code-background};\n    border: 1px solid {--border-color};\n    border-radius: {--border-radius};\n    padding: 6px;\n  }\n  .light-background {\n    background-color: {--code-background};\n    border: none;\n    white-space: pre-wrap;\n  }\n  *:not(pre) > code {\n    white-space: nowrap;\n  }\n  .dl-horizontal > dd {\n    margin-top: 1.0rem;\n  }\n  pre > code {\n    background-color: inherit;\n    {--!} highlight.js tweak.\n    padding: 0;\n  }\n  pre span {\n    {--!} highlight.js tweak.\n    opacity: 1 !important;\n  }\n  {--!} Rimu classes.\n  {--!} Apply verse class to Normal Paragraphs and Division blocks.\n  .verse {\n    margin: 1.5em 20px;\n  }\n  div.verse p, p.verse {\n    font-family: {--serif-font};\n    white-space: pre;\n    margin-top: 0.75rem;\n    margin-bottom: 0.75rem;\n  }\n  {--!} Apply sidebar class to Normal Paragraphs and Division blocks.\n  .sidebar {\n    border: 1px solid {--border-color};\n    border-radius: {--border-radius};\n    background: {--sidebar-background};\n    padding: 10px;\n    margin: 1.5em 0;\n  }\n  div.sidebar *:first-child {\n    margin-top: 0.2rem;\n  }\n  {--!} Force page break before the element.\n  .page-break {\n    page-break-before: always;\n  }\n  {--!} Avoid page breaks inside the element.\n  .no-page-break {\n    page-break-inside: avoid;\n  }\n  {--!} Text block alignment classes.\n  .align-left {\n    text-align: left;\n  }\n  .align-center {\n    text-align: center;\n  }\n  .align-right {\n    text-align: right;\n  }\n  {--!} Preserve line breaks.\n  .preserve-breaks {\n    white-space: pre;\n  }\n  {--!} DEPRECATED: Use \\x60preserve-breaks\\x60 instead.\n  .line-breaks {\n    white-space: pre;\n  }\n  {--!} Horizontal labeled list.\n  .dl-horizontal:before, .dl-horizontal:after {\n    display: table;\n    content: \"\";\n    line-height: 0;\n  }\n  .dl-horizontal:after {\n    clear: both;\n  }\n  .dl-horizontal > dt {\n    float: left;\n    clear: left;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    text-align: left;\n    margin-top: 1.0rem;\n    width: 25%;\n  }\n  .dl-horizontal > dd {\n    margin-left: 25%;\n    padding-left: 1.0rem;\n  }\n  {--!} List item counters.\n  dl {\n    counter-reset: dl-counter;\n  }\n  dl > dt {\n    counter-increment: dl-counter;\n  }\n  ol {\n    counter-reset: ol-counter;\n  }\n  ol > li {\n    counter-increment: ol-counter;\n  }\n  ul {\n    counter-reset: ul-counter;\n  }\n  ul > li {\n    counter-increment: ul-counter;\n  }\n  {--!} Prefix list counter to counter class element content.\n  .dl-counter:before {\n    content: counter(dl-counter) \" \";\n  }\n  .ol-counter:before {\n    content: counter(ol-counter) \" \";\n  }\n  .ul-counter:before {\n    content: counter(ul-counter) \" \";\n  }\n  {--!} Number labeled list items.\n  .dl-numbered > dt:before {\n    content: counter(dl-counter) \". \";\n  }\n  {--!} Printing.\n  @media print {\n    .no-print, .no-print * {\n      display: none !important;\n    }\n    a:hover {\n      text-decoration: none !important;\n    }\n  }\n</style>\n\n{--section-numbers=}.+skip\n<style>\n  /* Section numbers. */\n  body,h1 { counter-reset: h2-counter; }\n  h2      { counter-reset: h3-counter; }\n  #article > h2:before {\n    content: counter(h2-counter) \". \";\n    counter-increment: h2-counter;\n  }\n  #article > h3:before {\n    content: counter(h2-counter) \".\" counter(h3-counter) \". \";\n    counter-increment: h3-counter;\n  }\n</style>\n\n// Common to --sidebar-toc and --dropdown-toc.\n{--no-toc!}.+skip\n<style>\n  #toc {\n    padding-left: 1rem;\n  }\n  #toc h2 {\n    font-size: 125%;\n    margin-top:1.0rem;\n    margin-left: 0;\n  }\n  #toc .h1 {\n    font-size: 110%;\n    font-weight: bold;\n    margin-top: 0.5rem;\n    margin-bottom: 0.4rem;\n  }\n  #toc .h2 {\n    margin-top: 0.4rem;\n  }\n  #toc .h3 {\n    margin-left: 1.5rem;\n    font-size: 90%;\n  }\n  #toc div[class^=\"h\"]:nth-child(even) {\n    background-color: #f8f8f8;\n  }\n  #auto-toc {\n    width: 100%;\n  }\n</style>\n\n{--header-links=}.+skip\n<style>\n  .header-link {\n    text-decoration: none;\n    color: lightgray;\n    visibility: hidden;\n  }\n  .header-link:hover {\n    text-decoration: none;\n    color: gray;\n  }\n  .header-link::before {\n    content: \" \\x5C00b6\";\n  }\n  h2:hover > .header-link, h3:hover > .header-link {\n    visibility: visible;\n  }\n  @media print {\n    .header-link {\n      display: none !important;\n    }\n  }\n</style>\n\n\n/*\n  Layout styles\n*/\n<style>\n  #article {\n    padding-left: 2rem;\n    padding-right: 1rem;\n    max-width: {--max-text-width};\n  }\n</style>\n\n{--sidebar-toc=}.+skip\n<style>\n  #article {\n    margin-left: 20rem;\n  }\n  #toc {\n    position: fixed;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    width: 20rem;\n    border-right: 1px solid #cccccc;\n    overflow-y: auto;\n    overflow-x: hidden;\n    box-shadow: 0 0 3px rgba(0, 0, 0, 0.35);\n  }\n  @media screen and {--small-screen} {\n    {--!}  Sidebar TOC hidden as it does not work on small screens.\n    #article {\n      margin-left: 0;\n    }\n    #toc {\n      display: none !important;\n    }\n  }\n</style>\n\n{--dropdown-toc=}.+skip\n<style>\n  .show-toc #toc {\n    display: block !important;\n  }\n  #toc-button {\n    position: fixed;\n    top: 22px;\n    left: 15px;\n    z-index: 1;\n    cursor: pointer;\n    color: silver;\n    font-size: 3.2rem;\n  }\n  #toc {\n    display: none;\n    position: fixed;\n    top: 55px;\n    left: 17px;\n    right: 10%;\n    z-index: 1;\n    max-width: 30rem;\n    max-height: 80%;\n    overflow-y: auto;\n    background-color: {--primary-background};\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.35);\n  }\n  #article {\n    margin-left: 2rem;\n  }\n</style>\n\n// Format (non-layout) related styles.\n<style>\n  @media screen and {--small-screen} {\n    body {\n      font-size: 20px;\n    }\n  }\n  @media print {\n    #article {\n      margin-left: 0;\n      max-width: 100%;\n    }\n  }\n</style>\n\n/*\n  Theme related styles\n*/\n{--theme!.*\\x5Cbgraystone\\x5Cb.*}.+skip\n<style>\n  h1, h2 {\n    text-transform: uppercase;\n  }\n</style>\n\n{--head}\n\n</head>\n<body>\n\n// Include dropdown TOC button.\n{--dropdown-toc=}.+skip\n<div id=\"toc-button\" class=\"no-print\">&#8801;</div>\n\n// Include TOC unless a custom TOC is specified.\n.+skip\n{--no-toc=}.-skip\n{--custom-toc!}.+skip\n<div id=\"toc\" class=\"no-print\">\n  <div id=\"auto-toc\"></div>\n</div>\n\n<div id=\"article\">\n`,\n  \"flex-footer.rmu\": String.raw`/*\n  Used by rimuc.js --styled option.\n*/\n\n// Close article div.\n</div>\n\n{--highlightjs=}.+skip\n{--highlightjs-scripts}\n\n{--mathjax!}{--mathjax-scripts}\n\n.+skip\n{--no-toc=}.-skip\n{--header-links!}.-skip\n<script>\nwindow.onload = function() {\n{--no-toc=}  document.getElementsByTagName('body')[0].appendChild(document.getElementById('toc')); // Ensure custom TOC is child of body.\n  var headings = [].slice.call(document.body.querySelectorAll('#article > h1, #article > h2, #article > h3'));\n  headings.forEach(function(heading) {\n{--header-links!}    setHeaderLink(heading);\n{--no-toc=}    appendTocEntry(heading);\n  });\n}\n</script>\n\n{--header-links=}.+skip\n<script>\nfunction setHeaderLink(heading) {\n  var id = heading.getAttribute('id');\n  if (id) {\n    var link = document.createElement('a');\n    link.classList.add('header-link');\n    link.setAttribute('href', '#' + id);\n    heading.appendChild(link);\n  }\n}\n</script>\n\n{--no-toc!}.+skip\n<script>\nfunction appendTocEntry(heading) {\n  var id = heading.getAttribute('id');\n  if (heading.classList.contains('no-auto-toc')) {\n    return;\n  }\n  var container = document.getElementById('auto-toc');\n  if (container === null) {\n    return;\n  }\n  var tocLink = document.createElement('a');\n  tocLink.setAttribute('href', '#' + id);\n  tocLink.textContent = heading.textContent;\n  var tocEntry = document.createElement('div');\n  tocEntry.setAttribute('class', heading.tagName.toLowerCase());\n  tocEntry.appendChild(tocLink);\n  container.appendChild(tocEntry);\n}\n// matches() polyfill for old browsers.\nif (!Element.prototype.matches) {\n  var p = Element.prototype;\n  if (p.webkitMatchesSelector) // Chrome <34, SF<7.1, iOS<8\n    p.matches = p.webkitMatchesSelector;\n  if (p.msMatchesSelector) // IE9/10/11 & Edge\n    p.matches = p.msMatchesSelector;\n  if (p.mozMatchesSelector) // FF<34\n    p.matches = p.mozMatchesSelector;\n}\ndocument.onclick = function(event) {\n  if (event.target.matches('#toc-button *, #toc a')) {\n    // Toggle TOC if TOC button or TOC link is clicked.\n    document.getElementsByTagName('body')[0].classList.toggle('show-toc');\n  }\n}\n</script>\n\n</body>\n</html>\n`,\n  \"flex-header.rmu\": String.raw`/*\n  Used by rimuc \\x60--layout flex\\x60 option.\n*/\n\n/*\n  Default values for styling themes and content options.\n*/\n\n{--section-numbers?} = ''\n{--lang?} = ''\n{--title?} = '&nbsp;'\n{--theme?} = ''\n{--no-toc?} = ''\n{--custom-toc?} = ''\n{--header-links?} = ''\n{--small-screen?} = '(max-width: 800px)'\n{--meta?} = '<meta charset=\"UTF-8\">\n  {--!} Make old IE versions use the latest rendering engine.\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, minimum-scale=1\">'\n// Additional <head> child elements.\n{--head?} = ''\n\n{--highlightjs?} = ''\n{--highlightjs-css} = '<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css\">'\n{--highlightjs-scripts} = '<script src=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js\"></script>\n<script>\nhljs.configure({languages: []});\nhljs.initHighlightingOnLoad();\n</script>'\n\n{--mathjax?} = ''\n{--mathjax-scripts} = '<script async src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML\"></script>'\n\n// List item CSS counters.\n{--dl-counter} = '<span class=\"dl-counter\"></span>'\n{--ol-counter} = '<span class=\"ol-counter\"></span>'\n{--ul-counter} = '<span class=\"ul-counter\"></span>'\n\n/*\n  Legend theme.\n*/\n{--theme!.*\\x5Cblegend\\x5Cb.*}.+skip\n..\n{--sans-font?} = 'Helvetica, Arial, sans-serif'\n{--serif-font?} = 'Georgia, Times, serif'\n{--mono-font?} = 'Consolas, \"Andale Mono\", Monaco, monospace'\n{--mono-size?} = '90%'\n{--text-color?} = '#333333'\n{--border-color?} = '#dddddd'\n{--primary-color?} = '#34495e'\n{--primary-background?} = 'white'\n{--code-background?} = '#f8f8f8'\n{--sidebar-background?} = '#ffffee'\n{--link-color?} = '#428bca'\n{--border-radius?} = '0'\n{--max-text-width?} = '50rem'\n..\n\n/*\n  Vintage theme.\n*/\n{--theme!.*\\x5Cbvintage\\x5Cb.*}.+skip\n// Default to this theme if none of the built-in themes is specified.\n{--theme!.*\\x5Cb(legend|vintage|graystone)\\x5Cb.*}.-skip\n..\n{--sans-font?} = 'Helvetica, Arial, sans-serif'\n{--serif-font?} = 'Georgia, Times, serif'\n{--mono-font?} = 'Consolas, \"Andale Mono\", Monaco, monospace'\n{--mono-size?} = '90%'\n{--text-color?} = '#333333'\n{--border-color?} = '#dddddd'\n{--primary-color?} = '#527bbd'\n{--primary-background?} = 'white'\n{--code-background?} = '#f8f8f8'\n{--sidebar-background?} = '#ffffee'\n{--link-color?} = '#527bbd'\n{--border-radius?} = '4px'\n{--max-text-width?} = '50rem'\n..\n\n/*\n  Graystone theme.\n*/\n{--theme!.*\\x5Cbgraystone\\x5Cb.*}.+skip\n..\n{--sans-font?} = 'Helvetica, Arial, sans-serif'\n{--serif-font?} = 'Georgia, Times, serif'\n{--mono-font?} = 'Consolas, \"Andale Mono\", Monaco, monospace'\n{--mono-size?} = '90%'\n{--text-color?} = '#333333'\n{--border-color?} = '#dddddd'\n{--primary-color?} = '#888'\n{--primary-background?} = 'white'\n{--code-background?} = '#f8f8f8'\n{--sidebar-background?} = '#ffffee'\n{--link-color?} = '#888'\n{--border-radius?} = '0'\n{--max-text-width?} = '50rem'\n..\n\n/*\n  HTML header\n*/\n<!DOCTYPE HTML>\n{--lang=}<html>\n{--lang!}<html lang=\"{--lang}\">\n<head>\n{--meta}\n<title>{--title}</title>\n{--highlightjs!}{--highlightjs-css}\n\n/*\n  Layout independent styles\n*/\n<style>\n  :root {\n    font-size: 16px;\n    line-height: 20px;\n    color: {--text-color};\n    background-color: {--primary-background};\n    font-family: {--sans-font};\n  }\n  * {\n    margin: 0;\n    padding: 0;\n    white-space: inherit;\n    box-sizing: border-box;\n  }\n  h1, h2, h3, h4, h5, h6 {\n    margin: 10px 0;\n    color: {--primary-color};\n  }\n  h1 { font-size: 2.2rem; line-height: 40px;}\n  h2 { font-size: 1.5rem; }\n  h3 { font-size: 1.2rem; }\n  h4 { font-size: 1.1rem; }\n  h5 { font-size: 1.0rem; }\n  h6 { font-size: 0.9rem; }\n  h2, h3, h4, h5, h6 {\n    line-height: normal;\n    margin-top: 1.0rem;\n    margin-bottom: 0.2rem;\n  }\n  h2 {\n    margin-top: 1.5rem;\n    border-bottom: 1px solid {--border-color};\n  }\n  img {\n    max-width: 100%;\n  }\n  table {\n    border-collapse: collapse;\n    width: 100%;\n  }\n  td, th {\n    text-align: left;\n    vertical-align: top;\n  }\n  {--!} tbody necessary because: http://stackoverflow.com/questions/7490364/why-do-browsers-still-inject-tbody-in-html5\n  table.bordered > tbody > tr > th,\n  table.bordered > tbody > tr > td {\n    border: 1px solid {--border-color};\n  }\n  a, a:hover {\n    color: {--primary-color};\n  }\n  a {\n    text-decoration: none;\n  }\n  a:hover {\n    text-decoration: underline;\n  }\n  p, pre, li, dt, dd, blockquote p {\n    line-height: 1.45;\n    margin-top: 0.5rem;\n    margin-bottom: 0.5rem;\n  }\n  ul, ol {\n    padding: 0;\n    margin: 0 0 10px 25px;\n  }\n  dt {\n    margin-bottom: 0;\n    font-style: italic;\n  }\n  dd {\n    margin-left: 1.0rem;\n    margin-top: 0;\n  }\n  blockquote {\n    padding: 0 0 0 15px;\n    border: none;\n    border-left: 5px solid #eeeeee;\n    font-family: {--serif-font};\n    width: 80%;\n    margin: 1.5em 0;\n    color: #383838;\n  }\n  .cite {\n    color: #777;\n    padding: 5px 0;\n  }\n  .cite::before {\n    content: \"\\x5C2014 \\x5C2009\";\n  }\n  code {\n    font-family: {--mono-font};\n    {--!} Monspace fonts are relatively oversized.\n    font-size: {--mono-size};\n    background-color: {--code-background};\n  }\n{--highlightjs!}  .hljs { background-color: {--code-background}; }\n  pre {\n    font-family: {--mono-font};\n    line-height: normal;\n    white-space: pre-wrap;\n    background-color: {--code-background};\n    border: 1px solid {--border-color};\n    border-radius: {--border-radius};\n    padding: 6px;\n  }\n  .light-background {\n    background-color: {--code-background};\n    border: none;\n    white-space: pre-wrap;\n  }\n  *:not(pre) > code {\n    white-space: nowrap;\n  }\n  .dl-horizontal > dd {\n    margin-top: 1.0rem;\n  }\n  pre > code {\n    background-color: inherit;\n    {--!} highlight.js tweak.\n    padding: 0;\n  }\n  pre span {\n    {--!} highlight.js tweak.\n    opacity: 1 !important;\n  }\n  {--!} Rimu classes.\n  {--!} Apply verse class to Normal Paragraphs and Division blocks.\n  .verse {\n    margin: 1.5em 20px;\n  }\n  div.verse p, p.verse {\n    font-family: {--serif-font};\n    white-space: pre;\n    margin-top: 0.75rem;\n    margin-bottom: 0.75rem;\n  }\n  {--!} Apply sidebar class to Normal Paragraphs and Division blocks.\n  .sidebar {\n    border: 1px solid {--border-color};\n    border-radius: {--border-radius};\n    background: {--sidebar-background};\n    padding: 10px;\n    margin: 1.5em 0;\n  }\n  div.sidebar *:first-child {\n    margin-top: 0.2rem;\n  }\n  {--!} Force page break before the element.\n  .page-break {\n    page-break-before: always;\n  }\n  {--!} Avoid page breaks inside the element.\n  .no-page-break {\n    page-break-inside: avoid;\n  }\n  {--!} Text block alignment classes.\n  .align-left {\n    text-align: left;\n  }\n  .align-center {\n    text-align: center;\n  }\n  .align-right {\n    text-align: right;\n  }\n  {--!} Preserve line breaks.\n  .preserve-breaks {\n    white-space: pre;\n  }\n  {--!} DEPRECATED: Use \\x60preserve-breaks\\x60 instead.\n  .line-breaks {\n    white-space: pre;\n  }\n  {--!} Horizontal labeled list.\n  .dl-horizontal:before, .dl-horizontal:after {\n    display: table;\n    content: \"\";\n    line-height: 0;\n  }\n  .dl-horizontal:after {\n    clear: both;\n  }\n  .dl-horizontal > dt {\n    float: left;\n    clear: left;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    text-align: left;\n    margin-top: 1.0rem;\n    width: 25%;\n  }\n  .dl-horizontal > dd {\n    margin-left: 25%;\n    padding-left: 1.0rem;\n  }\n  {--!} List item counters.\n  dl {\n    counter-reset: dl-counter;\n  }\n  dl > dt {\n    counter-increment: dl-counter;\n  }\n  ol {\n    counter-reset: ol-counter;\n  }\n  ol > li {\n    counter-increment: ol-counter;\n  }\n  ul {\n    counter-reset: ul-counter;\n  }\n  ul > li {\n    counter-increment: ul-counter;\n  }\n  {--!} Prefix list counter to counter class element content.\n  .dl-counter:before {\n    content: counter(dl-counter) \" \";\n  }\n  .ol-counter:before {\n    content: counter(ol-counter) \" \";\n  }\n  .ul-counter:before {\n    content: counter(ul-counter) \" \";\n  }\n  {--!} Number labeled list items.\n  .dl-numbered > dt:before {\n    content: counter(dl-counter) \". \";\n  }\n  {--!} Printing.\n  @media print {\n    .no-print, .no-print * {\n      display: none !important;\n    }\n    a:hover {\n      text-decoration: none !important;\n    }\n  }\n</style>\n\n{--section-numbers=}.+skip\n<style>\n  /* Section numbers. */\n  body,h1 { counter-reset: h2-counter; }\n  h2      { counter-reset: h3-counter; }\n  #article > h2:before {\n    content: counter(h2-counter) \". \";\n    counter-increment: h2-counter;\n  }\n  #article > h3:before {\n    content: counter(h2-counter) \".\" counter(h3-counter) \". \";\n    counter-increment: h3-counter;\n  }\n</style>\n\n{--no-toc!}.+skip\n<style>\n  #toc .h1 {\n    font-size: 110%;\n    font-weight: bold;\n    margin-top: 0.5rem;\n    margin-bottom: 0.4rem;\n  }\n  #toc .h2 {\n    margin-top: 0.4rem;\n  }\n  #toc .h3 {\n    margin-left: 1.5rem;\n    font-size: 90%;\n  }\n  #toc div[class^=\"h\"]:nth-child(even) {\n    background-color: #f8f8f8;\n  }\n  #auto-toc {\n    width: 100%;\n  }\n</style>\n\n{--header-links=}.+skip\n<style>\n  .header-link {\n    text-decoration: none;\n    color: lightgray;\n    visibility: hidden;\n  }\n  .header-link:hover {\n    text-decoration: none;\n    color: gray;\n  }\n  .header-link::before {\n    content: \" \\x5C00b6\";\n  }\n  h2:hover > .header-link, h3:hover > .header-link {\n    visibility: visible;\n  }\n  @media print {\n    .header-link {\n      display: none !important;\n    }\n  }\n</style>\n\n/*\n  Layout styles\n*/\n<style>\n  #article > * {\n    max-width: {--max-text-width};\n  }\n  #article, #toc {\n    padding-left: 1rem;\n    padding-right: 1rem;\n  }\n{--!} Small screen.\n  @media screen and {--small-screen} {\n    #article, #toc {\n      padding-left: 10px;\n      padding-right: 10px;\n    }\n  }\n</style>\n\n// TOC specific styles.\n// Flexbox layout inspired by http://codepen.io/VinSpee/pen/zxBJVO\n{--no-toc!}.+skip\n<style>\n  html, body {\n    height: 100%;\n    min-height: 100%;\n    overflow: hidden;\n  }\n  body {\n    display: flex;\n  }\n  #nav {\n    flex: auto;\n    order: 1;\n    flex-grow: 0;\n    background: {--primary-color};\n  }\n  #toc {\n    display: none;\n    flex: auto;\n    order: 2;\n    overflow-y: scroll;\n    height: 100%;\n    width: 100%;\n  }\n  #toc h2 {\n    font-size: 125%;\n    margin-top:1.0rem;\n  }\n  #toc-button {\n    cursor: pointer;\n    color: white;\n    font-size: 48px;\n    font-family: Arial;\n    display: inline-block;\n  }\n  #article {\n    flex: auto;\n    order: 3;\n    overflow-y: scroll;\n    width: 100%;\n  }\n  #close-icon {\n    display: none;\n  }\n  .show-toc #toc {\n    display: block !important;\n  }\n  .show-toc #article {\n    display: none !important;\n  }\n  .show-toc #menu-icon {\n    display: none !important;\n  }\n  .show-toc #close-icon {\n    display: inline !important;\n  }\n  @media print {\n    html, body {\n      height: auto;\n      min-height: 0;\n    }\n    #article, #toc {\n      overflow-y: visible;\n    }\n  }\n</style>\n\n{--no-toc!}.+skip\n<style>\n{--!} Side-bar for large screen and small screen landscape mode.\n  body {\n    flex-direction: row;\n  }\n  #nav {\n    height: 100%;\n    width: 40px;\n  }\n  #toc-button {\n    padding-left: 4px;\n    padding-top: 15px;\n  }\n{--!} Top-bar for small screen portrait mode.\n  @media screen and {--small-screen} and (orientation: portrait) {\n    body {\n      flex-direction: column;\n    }\n    #nav {\n      height: 40px;\n      width: 100%;\n    }\n    #toc-button {\n      padding-left: 10px;\n      padding-top: 10px;\n    }\n  }\n</style>\n\n// Format (non-layout) related styles.\n<style>\n  @media screen and {--small-screen} {\n    body {\n      font-size: 20px;\n    }\n  }\n</style>\n\n/*\n  Theme related styles\n*/\n{--theme!.*\\x5Cbgraystone\\x5Cb.*}.+skip\n<style>\n  h1, h2 {\n    text-transform: uppercase;\n  }\n</style>\n\n{--head}\n\n</head>\n<body>\n\n// Include TOC menu bar if a TOC is specified.\n{--no-toc!}.+skip\n<div id=\"nav\" class=\"no-print\">\n  <span id=\"toc-button\">\n    <span id=\"menu-icon\">&#8801;</span>\n    <span id=\"close-icon\">&times;</span>\n  </span>\n</div>\n\n// Include TOC unless a custom TOC is specified.\n.+skip\n{--no-toc=}.-skip\n{--custom-toc!}.+skip\n<div id=\"toc\">\n  <div id=\"auto-toc\"></div>\n</div>\n\n<div id=\"article\">\n`,\n  \"manpage.txt\": String.raw`NAME\n  rimuc - convert Rimu source to HTML\n\nSYNOPSIS\n  rimuc [OPTIONS...] [FILES...]\n\nDESCRIPTION\n  Reads Rimu source markup from stdin, converts them to HTML\n  then writes the HTML to stdout. If FILES are specified\n  the Rimu source is read from FILES. The contents of files\n  with an .html extension are passed directly to the output.\n  An input file named '-' is read from stdin.\n\n  If a file named .rimurc exists in the user's home directory\n  then its contents is processed (with --safe-mode 0).\n  This behavior can be disabled with the --no-rimurc option.\n\n  Inputs are processed in the following order: .rimurc file then\n  --prepend-file option files then --prepend option source and\n  finally FILES...\n\nOPTIONS\n  -h, --help\n    Display help message.\n\n  --html-replacement TEXT\n    Embedded HTML is replaced by TEXT when --safe-mode is set to 2.\n    Defaults to '<mark>replaced HTML</mark>'.\n\n  --layout LAYOUT\n    Generate a styled HTML document. rimuc includes the\n    following built-in document layouts:\n\n    'classic': Desktop-centric layout.\n    'flex':    Flexbox mobile layout (experimental).\n    'plain':   Unstyled HTML layout.\n    'sequel':  Responsive cross-device layout.\n\n    If only one source file is specified and the --output\n    option is not specified then the output is written to a\n    same-named file with an .html extension.\n    This option enables --header-ids.\n\n  -s, --styled\n    Style output using default layout.\n    Shortcut for '--layout sequel --header-ids --no-toc'\n\n  -o, --output OUTFILE\n    Write output to file OUTFILE instead of stdout.\n    If OUTFILE is a hyphen '-' write to stdout.\n\n  --pass\n    Pass the stdin input verbatim to the output.\n\n  -p, --prepend SOURCE\n    Process the Rimu SOURCE text (immediately after --prepend-file\n    option files). Rendered with --safe-mode 0. This option can be\n    specified multiple times.\n\n  --prepend-file PREPEND_FILE\n    Process the PREPEND_FILE contents (immediately after .rimurc file).\n    Rendered with --safe-mode 0. This option can be specified\n    multiple times.\n\n  --no-rimurc\n    Do not process .rimurc from the user's home directory.\n\n  --safe-mode NUMBER\n    Non-zero safe modes ignore: Definition elements; API option elements;\n    HTML attributes in Block Attributes elements.\n    Also specifies how to process HTML elements:\n\n    --safe-mode 0 renders HTML (default).\n    --safe-mode 1 ignores HTML.\n    --safe-mode 2 replaces HTML with --html-replacement option value.\n    --safe-mode 3 renders HTML as text.\n\n    Add 4 to --safe-mode to ignore Block Attribute elements.\n    Add 8 to --safe-mode to allow Macro Definitions.\n\n  --theme THEME, --lang LANG, --title TITLE, --highlightjs, --mathjax,\n  --no-toc, --custom-toc, --section-numbers, --header-ids, --header-links\n    Shortcuts for the following prepended macro definitions:\n\n    --prepend \"{--custom-toc}='true'\"\n    --prepend \"{--header-ids}='true'\"\n    --prepend \"{--header-links}='true'\"\n    --prepend \"{--highlightjs}='true'\"\n    --prepend \"{--lang}='LANG'\"\n    --prepend \"{--mathjax}='true'\"\n    --prepend \"{--no-toc}='true'\"\n    --prepend \"{--section-numbers}='true'\"\n    --prepend \"{--theme}='THEME'\"\n    --prepend \"{--title}='TITLE'\"\n\n  --version\n    Print version number.\n\nLAYOUT OPTIONS\n  The following options are available when the --layout option\n  specifies a built-in layout:\n\n  Option             Description\n  _______________________________________________________________\n  --custom-toc       Set to a non-blank value if a custom table\n                     of contents is used.\n  --header-links     Set to a non-blank value to generate h2 and\n                     h3 header header links.\n  --highlightjs      Set to non-blank value to enable syntax\n                     highlighting with Highlight.js.\n  --lang             HTML document language attribute value.\n  --mathjax          Set to a non-blank value to enable MathJax.\n  --no-toc           Set to a non-blank value to suppress table of\n                     contents generation.\n  --section-numbers  Apply h2 and h3 section numbering.\n  --theme            Styling theme. Theme names:\n                     'legend', 'graystone', 'vintage'.\n  --title            HTML document title.\n  _______________________________________________________________\n  These options are translated by rimuc to corresponding layout\n  macro definitions using the --prepend option.\n\nLAYOUT CLASSES\n  The following CSS classes are available for use in Rimu Block\n  Attributes elements when the --layout option specifies a\n  built-in layout:\n\n  CSS class        Description\n  ______________________________________________________________\n  align-center     Text alignment center.\n  align-left       Text alignment left.\n  align-right      Text alignment right.\n  bordered         Adds table borders.\n  cite             Quote and verse attribution.\n  dl-horizontal    Format labeled lists horizontally.\n  dl-numbered      Number labeled list items.\n  dl-counter       Prepend dl item counter to element content.\n  ol-counter       Prepend ol item counter to element content.\n  ul-counter       Prepend ul item counter to element content.\n  no-auto-toc      Exclude heading from table of contents.\n  no-page-break    Avoid page break inside the element.\n  no-print         Do not print.\n  page-break       Force page break before the element.\n  preserve-breaks  Honor line breaks in source text.\n  sidebar          Sidebar format (paragraphs, division blocks).\n  verse            Verse format (paragraphs, division blocks).\n  ______________________________________________________________\n\nPREDEFINED MACROS\n  Macro name         Description\n  _______________________________________________________________\n  --                 Blank macro (empty string).\n                     The Blank macro cannot be redefined.\n  --header-ids       Set to a non-blank value to generate h1, h2\n                     and h3 header id attributes.\n  _______________________________________________________________`,\n  \"plain-footer.rmu\": String.raw`</body>\n</html>\n`,\n  \"plain-header.rmu\": String.raw`/*\n  Used by rimuc \\x60--layout plain\\x60 option.\n*/\n\n{--lang?} = ''\n{--title?} = 'Title'\n{--meta?} = '<meta charset=\"UTF-8\">'\n// Additional <head> element children.\n{--head?} = ''\n\n<!DOCTYPE html>\n{--lang=}<html>\n{--lang!}<html lang=\"{--lang}\">\n<head>\n{--meta}\n<title>{--title}</title>\n\n{--head}\n</head>\n<body>\n`,\n  \"sequel-footer.rmu\": String.raw`/*\n  Used by rimuc \\x60--layout sequel\\x60 option.\n*/\n\n// Close main and article divs.\n</div>\n</div>\n\n{--highlightjs=}.+skip\n{--highlightjs-scripts}\n\n{--mathjax!}{--mathjax-scripts}\n\n{--no-toc!}.+skip\n<script>\nwindow.onload = function() {\n  document.getElementById('sidebar').appendChild(document.getElementById('toc')); // Ensure custom TOC is child of sidebar.\n  var headings = [].slice.call(document.body.querySelectorAll('#article > h1, #article > h2, #article > h3'));\n  headings.forEach(function(heading) {\n{--header-links!}    setHeaderLink(heading);\n    appendTocEntry(heading);\n  });\n  if (isSmallScreen()) {\n    toggleToc();  // Hide TOC.\n  }\n}\n</script>\n\n{--header-links=}.+skip\n<script>\nfunction setHeaderLink(heading) {\n  var id = heading.getAttribute('id');\n  if (id) {\n    var link = document.createElement('a');\n    link.classList.add('header-link');\n    link.setAttribute('href', '#' + id);\n    heading.appendChild(link);\n  }\n}\n</script>\n\n{--no-toc!}.+skip\n<script>\nfunction appendTocEntry(heading) {\n  var id = heading.getAttribute('id');\n  if (heading.classList.contains('no-auto-toc')) {\n    return;\n  }\n  var container = document.getElementById('auto-toc');\n  if (container === null) {\n    return;\n  }\n  var tocLink = document.createElement('a');\n  tocLink.setAttribute('href', '#' + id);\n  tocLink.textContent = heading.textContent;\n  var tocEntry = document.createElement('div');\n  tocEntry.setAttribute('class', heading.tagName.toLowerCase());\n  tocEntry.appendChild(tocLink);\n  container.appendChild(tocEntry);\n}\n</script>\n\n{--no-toc!}.+skip\n<script>\n  document.onclick = function (event) {\n    if (event.target.matches('#toc-button') || event.target.matches('#toc a') && isSmallScreen()) {\n{--!} Toggle TOC if TOC button or small-screen TOC link is clicked.\n      toggleToc();\n    }\n  }\n  function toggleToc() {\n    document.body.classList.toggle('hide-toc');\n  }\n  function isSmallScreen() {\n    return window.matchMedia('{--small-screen}').matches;\n  }\n  // matches() polyfill for old browsers.\n  if (!Element.prototype.matches) {\n    var p = Element.prototype;\n    if (p.webkitMatchesSelector) // Chrome <34, SF<7.1, iOS<8\n      p.matches = p.webkitMatchesSelector;\n    if (p.msMatchesSelector) // IE9/10/11 & Edge\n      p.matches = p.msMatchesSelector;\n    if (p.mozMatchesSelector) // FF<34\n      p.matches = p.mozMatchesSelector;\n  }\n</script>\n\n</body>\n</html>\n`,\n  \"sequel-header.rmu\": String.raw`/*\n  Used by rimuc \\x60--layout sequel\\x60 option.\n*/\n\n/*\n  Default values for styling themes and content options.\n*/\n\n{--section-numbers?} = ''\n{--lang?} = ''\n{--title?} = '&nbsp;'\n{--theme?} = ''\n{--no-toc?} = ''\n{--custom-toc?} = ''\n{--header-links?} = ''\n{--!} The min-width: 1px clause stops page load transitions in IE11 and Edge (https://stackoverflow.com/a/25850649).\n{--small-screen?} = '(min-width: 1px) and (max-width: 800px)'\n{--meta?} = '<meta charset=\"UTF-8\">\n  {--!} Make old IE versions use the latest rendering engine.\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, minimum-scale=1\">'\n// Additional <head> element children.\n{--head?} = ''\n\n{--highlightjs?} = ''\n{--highlightjs-css} = '<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css\">'\n{--highlightjs-scripts} = '<script src=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js\"></script>\n<script>\nhljs.configure({languages: []});\nhljs.initHighlightingOnLoad();\n</script>'\n\n{--mathjax?} = ''\n{--mathjax-scripts} = '<script async src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML\"></script>'\n\n// List item CSS counters.\n{--dl-counter} = '<span class=\"dl-counter\"></span>'\n{--ol-counter} = '<span class=\"ol-counter\"></span>'\n{--ul-counter} = '<span class=\"ul-counter\"></span>'\n\n// Sequel layout specific.\n{--toc-width?} = '300px'\n{--nav-width?} = '40px'\n{--content-margin?} = '340px'\n{--transition-duration?} = '0.2s'\n\n/*\n  Legend theme.\n*/\n{--theme!.*\\x5Cblegend\\x5Cb.*}.+skip\n// Default to this theme if none of the built-in themes is specified.\n{--theme!.*\\x5Cb(legend|vintage|graystone)\\x5Cb.*}.-skip\n..\n{--sans-font?} = 'Helvetica, Arial, sans-serif'\n{--serif-font?} = 'Georgia, Times, serif'\n{--mono-font?} = 'Consolas, \"Andale Mono\", Monaco, monospace'\n{--mono-size?} = '90%'\n{--text-color?} = '#333333'\n{--border-color?} = '#dddddd'\n{--primary-color?} = '#34495e'\n{--primary-background?} = 'white'\n{--code-background?} = '#f8f8f8'\n{--sidebar-background?} = '#ffffee'\n{--link-color?} = '#428bca'\n{--border-radius?} = '0'\n{--max-text-width?} = '55rem'\n..\n\n/*\n  Vintage theme.\n*/\n{--theme!.*\\x5Cbvintage\\x5Cb.*}.+skip\n..\n{--sans-font?} = 'Helvetica, Arial, sans-serif'\n{--serif-font?} = 'Georgia, Times, serif'\n{--mono-font?} = 'Consolas, \"Andale Mono\", Monaco, monospace'\n{--mono-size?} = '90%'\n{--text-color?} = '#333333'\n{--border-color?} = '#dddddd'\n{--primary-color?} = '#527bbd'\n{--primary-background?} = 'white'\n{--code-background?} = '#f8f8f8'\n{--sidebar-background?} = '#ffffee'\n{--link-color?} = '#527bbd'\n{--border-radius?} = '4px'\n{--max-text-width?} = '55rem'\n..\n\n/*\n  Graystone theme.\n*/\n{--theme!.*\\x5Cbgraystone\\x5Cb.*}.+skip\n..\n{--sans-font?} = 'Helvetica, Arial, sans-serif'\n{--serif-font?} = 'Georgia, Times, serif'\n{--mono-font?} = 'Consolas, \"Andale Mono\", Monaco, monospace'\n{--mono-size?} = '90%'\n{--text-color?} = '#333333'\n{--border-color?} = '#dddddd'\n{--primary-color?} = '#888'\n{--primary-background?} = 'white'\n{--code-background?} = '#f8f8f8'\n{--sidebar-background?} = '#ffffee'\n{--link-color?} = '#888'\n{--border-radius?} = '0'\n{--max-text-width?} = '55rem'\n..\n\n/*\n  HTML header\n*/\n<!DOCTYPE HTML>\n{--lang=}<html>\n{--lang!}<html lang=\"{--lang}\">\n<head>\n{--meta}\n<title>{--title}</title>\n{--highlightjs!}{--highlightjs-css}\n\n/*\n  Layout independent styles\n*/\n<style>\n  :root {\n    font-size: 16px;\n    line-height: 20px;\n    color: {--text-color};\n    background-color: {--primary-background};\n    font-family: {--sans-font};\n  }\n  * {\n    margin: 0;\n    padding: 0;\n    white-space: inherit;\n    box-sizing: border-box;\n  }\n  h1, h2, h3, h4, h5, h6 {\n    margin: 10px 0;\n    color: {--primary-color};\n  }\n  h1 { font-size: 2.2rem; line-height: 40px;}\n  h2 { font-size: 1.5rem; }\n  h3 { font-size: 1.2rem; }\n  h4 { font-size: 1.1rem; }\n  h5 { font-size: 1.0rem; }\n  h6 { font-size: 0.9rem; }\n  h2, h3, h4, h5, h6 {\n    line-height: normal;\n    margin-top: 1.0rem;\n    margin-bottom: 0.2rem;\n  }\n  h2 {\n    margin-top: 1.5rem;\n    border-bottom: 1px solid {--border-color};\n  }\n  img {\n    max-width: 100%;\n  }\n  table {\n    border-collapse: collapse;\n    table-layout: fixed;\n    width: 100%;\n  }\n  td, th {\n    text-align: left;\n    vertical-align: top;\n  }\n  {--!} tbody necessary because: http://stackoverflow.com/questions/7490364/why-do-browsers-still-inject-tbody-in-html5\n  table.bordered > tbody > tr > th,\n  table.bordered > tbody > tr > td {\n    border: 1px solid {--border-color};\n  }\n  a, a:hover {\n    color: {--link-color};\n  }\n  a {\n    text-decoration: none;\n  }\n  a:hover {\n    text-decoration: underline;\n  }\n  p, pre, li, dt, dd, blockquote p {\n    line-height: 1.45;\n    margin-top: 0.5rem;\n    margin-bottom: 0.5rem;\n  }\n  ul, ol {\n    padding: 0;\n    margin: 0 0 10px 25px;\n  }\n  dt {\n    margin-bottom: 0;\n    font-style: italic;\n  }\n  dd {\n    margin-left: 1.0rem;\n    margin-top: 0;\n  }\n  blockquote {\n    padding: 0 0 0 15px;\n    border: none;\n    border-left: 5px solid #eeeeee;\n    font-family: {--serif-font};\n    width: 80%;\n    margin: 1.5em 0;\n    color: #383838;\n  }\n  .cite {\n    color: #777;\n    padding: 5px 0;\n  }\n  .cite::before {\n    content: \"\\x5C2014 \\x5C2009\";\n  }\n  code {\n    font-family: {--mono-font};\n    {--!} Monspace fonts are relatively oversized.\n    font-size: {--mono-size};\n    background-color: {--code-background};\n  }\n{--highlightjs!}  .hljs { background-color: {--code-background}; }\n  pre {\n    font-family: {--mono-font};\n    line-height: normal;\n    white-space: pre-wrap;\n    background-color: {--code-background};\n    border: 1px solid {--border-color};\n    border-radius: {--border-radius};\n    padding: 6px;\n  }\n  .light-background {\n    background-color: {--code-background};\n    border: none;\n    white-space: pre-wrap;\n  }\n{--!} Do not break hyphenated words or white space inside code quotes.\n  *:not(pre) > code {\n    white-space: nowrap;\n  }\n  .dl-horizontal > dd {\n    margin-top: 1.0rem;\n  }\n  pre > code {\n    background-color: inherit;\n    {--!} highlight.js tweak.\n    padding: 0;\n  }\n  pre span {\n    {--!} highlight.js tweak.\n    opacity: 1 !important;\n  }\n  {--!} Rimu classes.\n  {--!} Apply verse class to Normal Paragraphs and Division blocks.\n  .verse {\n    margin: 1.5em 20px;\n  }\n  div.verse p, p.verse {\n    font-family: {--serif-font};\n    white-space: pre-wrap;\n    margin-top: 0.75rem;\n    margin-bottom: 0.75rem;\n  }\n  {--!} Apply sidebar class to Normal Paragraphs and Division blocks.\n  .sidebar {\n    border: 1px solid {--border-color};\n    border-radius: {--border-radius};\n    background: {--sidebar-background};\n    padding: 10px;\n    margin: 1.5em 0;\n  }\n  div.sidebar *:first-child {\n    margin-top: 0.2rem;\n  }\n  {--!} Force page break before the element.\n  .page-break {\n    page-break-before: always;\n  }\n  {--!} Avoid page breaks inside the element.\n  .no-page-break {\n    page-break-inside: avoid;\n  }\n  {--!} Text block alignment classes.\n  .align-left {\n    text-align: left;\n  }\n  .align-center {\n    text-align: center;\n  }\n  .align-right {\n    text-align: right;\n  }\n  {--!} Preserve line breaks.\n  .preserve-breaks {\n    white-space: pre;\n  }\n  {--!} DEPRECATED: Use \\x60preserve-breaks\\x60 instead.\n  .line-breaks {\n    white-space: pre-wrap;\n  }\n  {--!} Horizontal labeled list.\n  .dl-horizontal:before, .dl-horizontal:after {\n    display: table;\n    content: \"\";\n    line-height: 0;\n  }\n  .dl-horizontal:after {\n    clear: both;\n  }\n  .dl-horizontal > dt {\n    float: left;\n    clear: left;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    text-align: left;\n    margin-top: 1.0rem;\n    width: 25%;\n  }\n  .dl-horizontal > dd {\n    margin-left: 25%;\n    padding-left: 1.0rem;\n  }\n  {--!} List item counters.\n  dl {\n    counter-reset: dl-counter;\n  }\n  dl > dt {\n    counter-increment: dl-counter;\n  }\n  ol {\n    counter-reset: ol-counter;\n  }\n  ol > li {\n    counter-increment: ol-counter;\n  }\n  ul {\n    counter-reset: ul-counter;\n  }\n  ul > li {\n    counter-increment: ul-counter;\n  }\n  {--!} Prefix list counter to counter class element content.\n  .dl-counter:before {\n    content: counter(dl-counter) \" \";\n  }\n  .ol-counter:before {\n    content: counter(ol-counter) \" \";\n  }\n  .ul-counter:before {\n    content: counter(ul-counter) \" \";\n  }\n  {--!} Number labeled list items.\n  .dl-numbered > dt:before {\n    content: counter(dl-counter) \". \";\n  }\n  {--!} Printing.\n  @media print {\n    .no-print, .no-print * {\n      display: none !important;\n    }\n    a:hover {\n      text-decoration: none !important;\n    }\n  }\n</style>\n\n{--section-numbers=}.+skip\n<style>\n  /* Section numbers. */\n  body,h1 { counter-reset: h2-counter; }\n  h2      { counter-reset: h3-counter; }\n  #article > h2:before {\n    content: counter(h2-counter) \". \";\n    counter-increment: h2-counter;\n  }\n  #article > h3:before {\n    content: counter(h2-counter) \".\" counter(h3-counter) \". \";\n    counter-increment: h3-counter;\n  }\n</style>\n\n// TOC styling.\n{--no-toc!}.+skip\n<style>\n  #toc h2 {\n    font-size: 125%;\n    padding-left: 1rem;\n    margin-top:1.0rem;\n    margin-left: 0;\n  }\n  #toc .h1 {\n    font-size: 110%;\n    font-weight: bold;\n    padding-left: 1rem;\n    margin-top: 0.5rem;\n    margin-bottom: 0.4rem;\n  }\n  #toc .h2 {\n    padding-left: 1rem;\n    margin-top: 0.4rem;\n  }\n  #toc .h3 {\n    padding-left: 2.5rem;\n    font-size: 90%;\n  }\n  #toc div[class^=\"h\"]:nth-child(even) {\n    background-color: #f8f8f8;\n  }\n  #auto-toc {\n    width: 100%;\n  }\n  #toc a, #toc a:hover {\n    color: {--primary-color};\n  }\n</style>\n\n{--header-links=}.+skip\n<style>\n  .header-link {\n    text-decoration: none;\n    color: lightgray;\n    visibility: hidden;\n  }\n  .header-link:hover {\n    text-decoration: none;\n    color: gray;\n  }\n  .header-link::before {\n    content: \" \\x5C00b6\";\n  }\n  h2:hover > .header-link, h3:hover > .header-link {\n    visibility: visible;\n  }\n  @media print {\n    .header-link {\n      display: none !important;\n    }\n  }\n</style>\n\n\n/*\n  Layout styles\n*/\n<style>\n  #main {\n    z-index: 1;\n    min-height: 100%;\n    max-width: {--max-text-width};\n    margin-left: 0;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n  #article {\n    padding-top: 1px;\n  }\n</style>\n\n{--no-toc!}.+skip\n<style>\n  #main {\n    margin-left: {--content-margin};\n  }\n  #nav {\n    z-index: 3;\n    position: fixed;\n    left: 0;\n    height: 100%;\n    width: {--nav-width};\n    background-color: {--primary-color};\n    color: white;\n  }\n  #sidebar {\n    z-index: 2;\n    position: fixed;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    margin-left: {--nav-width};\n    width: {--toc-width};\n    overflow: auto;\n    border-right: 1px solid #ccc;\n    background: #eee;\n  }\n  body.hide-toc #sidebar {\n    width: 0;\n  }\n  body.hide-toc #main {\n    margin-left: {--nav-width};\n  }\n  #toc-button {\n    cursor: pointer;\n    color: white;\n    font-size: 48px;\n    line-height: 40px;\n    font-family: Arial, sans-serif;\n    display: inline-block;\n    padding-left: 5px;\n  }\n{--!} Apply TOC slide in/out transition when not in small screen mode.\n  @media not screen and {--small-screen} {\n    #sidebar {\n      opacity: 1;\n      transition: opacity {--transition-duration} ease;\n    }\n    body.hide-toc #sidebar {\n      width: 0;\n      opacity: 0;\n    }\n    #main {\n      transition: margin-left {--transition-duration} ease;\n    }\n    body.hide-toc #main {\n      transition: margin-left {--transition-duration} ease;\n    }\n  }\n  @media screen and {--small-screen} {\n    body:not(.hide-toc) {\n{--!} Hide body Y scroll bar when #main content is hidden.\n      overflow: hidden;\n    }\n    body:not(.hide-toc) #sidebar {\n      width: 100%;\n    }\n    #main {\n      margin-left: {--nav-width};\n    }\n    body:not(.hide-toc) #main {\n      visibility: hidden;\n    }\n    #toc {\n      margin-right: 40px;\n    }\n  }\n</style>\n\n<style>\n  @media screen and {--small-screen} {\n    body {\n      font-size: 20px;\n    }\n    #main {\n      padding-left: 10px;\n      padding-right: 10px;\n    }\n    * {\n      overflow-wrap: break-word;\n    }\n  }\n</style>\n\n<style>\n  @media print {\n    #main {\n      margin-left: 0;\n    }\n  }\n</style>\n\n/*\n  Theme related styles\n*/\n{--theme!.*\\x5Cbgraystone\\x5Cb.*}.+skip\n<style>\n  h1, h2 {\n    text-transform: uppercase;\n  }\n</style>\n\n{--head}\n\n</head>\n<body>\n\n{--no-toc!}.+skip\n<div id=\"nav\" class=\"no-print\">\n    <span id=\"toc-button\">&#8801;</span>\n</div>\n\n{--no-toc!}.+skip\n<div id=\"sidebar\" class=\"no-print\">\n\n// Include TOC unless no TOC or custom TOC is specified.\n{--no-toc!}.+skip\n{--custom-toc!}.+skip\n<div id=\"toc\" class=\"no-print\">\n  <div id=\"auto-toc\"></div>\n</div>\n\n{--no-toc!}.+skip\n</div>\n\n<div id=\"main\">\n<div id=\"article\">\n`,\n  \"v8-footer.rmu\": String.raw`/*\n  Used by rimuc \\x60--layout v8\\x60 option.\n  DEPRECATED: This layout is no longer maintained, for Rimu version 8 compatibility.\n*/\n\n// Close contents div.\n</div>\n\n{--highlightjs!}<script src=\"http://yandex.st/highlightjs/7.3/highlight.min.js\"></script><script>hljs.initHighlightingOnLoad();</script>\n\n{--mathjax!}<script type=\"text/javascript\" async src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML\"></script>\n\n<script>\nwindow.onload = function() {\n  var headings = [].slice.call(document.body.querySelectorAll('#contents > h1, #contents > h2, #contents > h3'));\n  headings.forEach(function(heading, index) {\n    var title = heading.textContent;\n    var id = heading.getAttribute('id');\n    if (!id) {\n      id = slugify(title);\n      heading.setAttribute('id', id);\n    }\n    if (index === 0 && heading.tagName === 'H1') {\n      id = ''; // Go to top of page.\n    }\n{--sidebar-toc!}    appendTocEntry(heading, id);\n{--dropdown-toc!}    appendTocEntry(heading, id);\n  });\n}\nfunction slugify(text) {\n  var slug = text.replace(/\\x5Cs+/g, '-') // Replace spaces with dashes.\n      .replace(/[^\\x5Cw-]/g, '')          // Retain alphanumeric, '-' and '_' characters.\n      .toLowerCase()\n  if (!slug) slug = 'x';\n  if (document.getElementById(slug)) { // Another element already has that id.\n    var i = 2, prefix = slug;\n    while (document.getElementById(slug = prefix + '-' + i++)) {}\n  }\n  return slug;\n}\n</script>\n\n.+skip\n{--sidebar-toc!}.-skip\n{--dropdown-toc!}.-skip\n<script>\nfunction appendTocEntry(heading, id) {\n  if (heading.classList.contains('no-auto-toc')) {\n    return;\n  }\n  var container = document.getElementById('auto-toc');\n  if (container === null) {\n    return;\n  }\n  var tocLink = document.createElement('a');\n  tocLink.setAttribute('href', '#' + id);\n  tocLink.textContent = heading.textContent;\n  var tocEntry = document.createElement('div');\n  tocEntry.setAttribute('class', heading.tagName.toLowerCase());\n  tocEntry.appendChild(tocLink);\n  container.appendChild(tocEntry);\n}\n</script>\n\n{--dropdown-toc=}.+skip\n<script>\nfunction toggleToc() {\n    document.getElementById(\"toc\").classList.toggle('toc-visible');\n}\nwindow.onclick = function(event) {\n  if (!Element.prototype.matches) {\n    // matches() polyfill for old browsers.\n    var p = Element.prototype;\n    if (p.webkitMatchesSelector) // Chrome <34, SF<7.1, iOS<8\n      p.matches = p.webkitMatchesSelector;\n    if (p.msMatchesSelector) // IE9/10/11 & Edge\n      p.matches = p.msMatchesSelector;\n    if (p.mozMatchesSelector) // FF<34\n      p.matches = p.mozMatchesSelector;\n  }\n  if (!event.target.matches('#toc-button, #toc, #toc :not(a)')) {\n    // Hide TOC if clicked outside TOC or on TOC link.\n    var toc = document.getElementById('toc');\n    if (toc.classList.contains('toc-visible')) {\n      toc.classList.remove('toc-visible');\n    }\n  }\n}\n</script>\n\n</body>\n</html>\n`,\n  \"v8-header.rmu\": String.raw`/*\n  Used by rimuc \\x60--layout v8\\x60 option.\n  DEPRECATED: This layout is no longer maintained, for Rimu version 8 compatibility.\n  Styled using Bootstrap.\n  Syntax highlighting with Highlight.js\n  Bootstrap and Highlight.js sourced from CDNs.\n*/\n\n// Set macro default values.\n{--highlightjs?} = ''\n{--mathjax?} = ''\n{--section-numbers?} = ''\n{--lang?} = ''\n{--title?} = '&nbsp;'\n{--custom-toc?} = ''\n{--theme?} = 'default'\n{--sidebar-toc?} = ''\n{--dropdown-toc?} = ''\n\n// DEPRECATED --toc: If --toc is non-blank make --sidebar-toc non-blank.\n{--toc?} = ''\n{--sidebar-toc} = '{--toc}{--sidebar-toc}'\n\n<!DOCTYPE HTML>\n<html lang=\"{--lang}\">\n<head>\n{--!} Force IE into Standards mode.\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta charset=\"UTF-8\">\n  <title>{--title}</title>\n  <link rel=\"stylesheet\" href=\"http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css\">\n  <link rel=\"stylesheet\" href=\"http://yandex.st/highlightjs/7.3/styles/default.min.css\">\n\n<style>\n  /* Bootstrap tweaks. */\n  body {\n    margin: 1em;\n    max-width: 50em;\n    font-family: Arial, Helvetica, sans-serif;\n  }\n  h1, h2, h3, h4, h5, h6 {\n    color: #527bbd;\n  }\n  h1 { font-size: 2.2em; }\n  h2 { font-size: 1.5em; }\n  h3 { font-size: 1.2em; }\n  h4 { font-size: 1.1em; }\n  h5 { font-size: 1.0em; }\n  h6 { font-size: 0.9em; }\n  h2, h3, h4, h5, h6 {\n    line-height: normal;\n    margin-top: 1.0em;\n    margin-bottom: 0.2em;\n  }\n  h2 {\n    margin-top: 1.5em;\n    border-bottom: 1px solid rgba(0, 0, 0, 0.15);\n  }\n  a, a:hover {\n    color: #527bbd;\n  }\n  li, dd {\n    margin-bottom: 0.25em;\n  }\n  p, pre, li, dt, dd, blockquote p {\n    font-size: inherit;\n    line-height: 1.45;\n    margin-top: 0.5em;\n    margin-bottom: 0.5em;\n  }\n  blockquote {\n    border: none;\n    border-left: 5px solid #eeeeee;\n    font-family: Georgia, serif;\n    font-style: italic;\n    width: 80%;\n    margin: 1.5em 0;\n    color: #383838;\n  }\n  .cite {\n    font-style: italic;\n    color:#777;\n    padding:5px 0;\n  }\n  .cite::before {\n    content: \"\\x5C2014 \\x5C2009\";\n  }\n  pre {\n    padding: 6px;\n    line-height: normal;\n  }\n  .light-background {\n    background-color: #f8f8f8;\n    border: none;\n  }\n  code {\n    color: inherit;\n    font-size: inherit;\n  }\n  *:not(pre) > code {\n    border: none;\n    background-color: #f8f8f8;\n  }\n  .dl-horizontal > dt {\n    text-align: left;\n    margin-top: 1.0em;\n  }\n  .dl-horizontal > dd {\n    margin-top: 1.0em;\n  }\n  /* highlight.js tweaks. */\n  pre > code {\n    background-color: inherit;\n    padding: 0;\n  }\n  pre span {\n    opacity: 1 !important;\n  }\n  /* Rimu styles. */\n{--!} Apply verse class to Normal Paragraphs and Division blocks.\n  .verse {\n    margin: 1.5em 20px;\n  }\n  div.verse p, p.verse {\n    font-family: Georgia, serif;\n    white-space:pre;\n    margin-top: 0.75em;\n    margin-bottom: 0.75em;\n  }\n{--!} Apply sidebar class to Normal Paragraphs and Division blocks.\n  .sidebar {\n    border: 1px solid silver;\n    border-radius:4px;\n    background: #ffffee;\n    padding: 10px;\n    margin: 1.5em 20px;\n  }\n  div.sidebar *:first-child {\n    margin-top: 0.2em;\n  }\n  /* List item counters and definition list numbering. */\n{--!} List item counters.\n  dl {\n    counter-reset: dl-counter;\n  }\n  dl > dt {\n    counter-increment: dl-counter;\n  }\n  ol {\n    counter-reset: ol-counter;\n  }\n  ol > li {\n    counter-increment: ol-counter;\n  }\n  ul {\n    counter-reset: ul-counter;\n  }\n  ul > li {\n    counter-increment: ul-counter;\n  }\n{--!} Prefix list counter to counter class element content.\n  .dl-counter:before {\n    content: counter(dl-counter) \" \";\n  }\n  .ol-counter:before {\n    content: counter(ol-counter) \" \";\n  }\n  .ul-counter:before {\n    content: counter(ul-counter) \" \";\n  }\n{--!} Number labeled list items.\n  .dl-numbered > dt:before {\n    content: counter(dl-counter) \". \";\n  }\n{--!} Force page break before the element.\n  .page-break {\n    page-break-before: always;\n  }\n{--!} Avoid page breaks inside the element.\n  .no-page-break {\n    page-break-inside: avoid;\n  }\n{--!} Text block alignment classes.\n  .align-left {\n    text-align: left;\n  }\n  .align-center {\n    text-align: center;\n  }\n  .align-right {\n    text-align: right;\n  }\n{--!} Do not wrap line breaks.\n  .line-breaks {\n    white-space:pre;\n  }\n</style>\n\n{--section-numbers=}.+skip\n<style>\n  /* Section numbers. */\n  body,h1 { counter-reset: h2-counter; }\n  h2      { counter-reset: h3-counter; }\n  #contents > h2:before {\n    content: counter(h2-counter) \". \";\n    counter-increment: h2-counter;\n  }\n  #contents > h3:before {\n    content: counter(h2-counter) \".\" counter(h3-counter) \". \";\n    counter-increment: h3-counter;\n  }\n</style>\n\n{--sidebar-toc=}.+skip\n<style>\n  body {\n    padding-left: 21em;\n  }\n  #toc {\n    position: fixed;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    width: 18em;\n    border-right: 1px solid #cccccc;\n    overflow-y: auto;\n    overflow-x: hidden;\n    box-shadow: 0 0 3px rgba(0, 0, 0, 0.35);\n  }\n</style>\n\n{--dropdown-toc=}.+skip\n<style>\n  .toc-visible {\n    display: block !important;\n  }\n  #toc-button {\n    position: fixed;\n    top: 22px;\n    left: 15px;\n    z-index: 1;\n    cursor: pointer;\n    color: silver;\n    font-size:3.2em;\n  }\n  #toc {\n    display: none;\n    position: fixed;\n    top: 55px;\n    left: 15px;\n    right: 10%;\n    z-index: 1;\n    max-width: 30em;\n    max-height: 80%;\n    overflow-y: auto;\n    background-color: white;\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.35);\n  }\n  #contents {\n    margin-left: 40px;\n  }\n</style>\n\n// Common to --sidebar-toc and --dropdown-toc.\n.+skip\n{--sidebar-toc!}.-skip\n{--dropdown-toc!}.-skip\n<style>\n  @media print {\n    .no-print, .no-print * {\n      display: none !important;\n    }\n    body {\n      padding-left: 1em;\n    }\n  }\n  #toc {\n    padding-left: 1em;\n  }\n  #toc .h1 {\n    font-size: 110%;\n    font-weight: bold;\n    margin-top: 0.5em;\n    margin-bottom: 0.4em;\n  }\n  #toc .h2 {\n    margin-top: 0.4em;\n  }\n  #toc .h3 {\n    margin-left: 1.5em;\n    font-size: 90%;\n  }\n  #toc div:nth-child(even) {\n    background-color: #f8f8f8;\n  }\n</style>\n\n{--theme!.*\\x5Cbgraystone\\x5Cb.*}.+skip\n<style>\n  body {\n    font-size: 13pt;\n  }\n  h1, h2, h3, h4, h5, h6 {\n    color: #888;\n  }\n  h1, h2 {\n    text-transform: uppercase;\n  }\n  a, a:hover {\n    color: #888;\n    text-decoration: underline;\n  }\n  @media print {\n    a {\n      text-decoration: none;\n    }\n  }\n</style>\n\n</head>\n<body>\n\n// Include dropdown TOC button unless a custom TOC is specified.\n{--dropdown-toc=}.+skip\n{--custom-toc!}.+skip\n<div id=\"toc-button\" onclick=\"toggleToc()\" class=\"no-print\">&#8801;</div>\n\n// Include for sidebar and dropdown TOC unless a custom TOC is specified.\n.+skip\n{--sidebar-toc!}.-skip\n{--dropdown-toc!}.-skip\n{--custom-toc!}.+skip\n<div id=\"toc\" class=\"no-print\">\n  <div id=\"auto-toc\"></div>\n</div>\n\n<div id=\"contents\">\n`,\n};\n"],"sourceRoot":""}